{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component } from 'react';\nimport Router from 'next/router';\nimport Api from '../../../api/axios';\nimport Input from '../../form/Input';\nimport Button from '../../form/Button';\nimport StaticName from '../../form/StaticName';\nimport { connect } from \"react-redux\";\nimport { saveAccessTokenSuccess } from \"../../../redux/ducks/user/UserActions\";\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"_HandleChange\", (e, element) => {\n      let form = _objectSpread({}, this.state.form);\n\n      form[element] = e;\n      this.setState({\n        form: form,\n        error: null\n      });\n    });\n\n    _defineProperty(this, \"_handleLogin\", async () => {\n      this.setState({\n        loading: true\n      });\n\n      try {\n        const result = await Api.post(`/user/login`, this.state.form); // save into redux\n\n        await this.props.saveAccessTokenSuccess(result.data.token);\n      } catch (e) {\n        this.setState({\n          error: e.response.data.message,\n          loading: false\n        });\n      }\n    });\n\n    this.state = {\n      form: {\n        email: '',\n        password: ''\n      },\n      loading: false,\n      error: null\n    };\n  }\n\n  render() {\n    const {\n      email,\n      password\n    } = this.state.form;\n    return __jsx(\"div\", {\n      style: {\n        flex: 1\n      }\n    }, !this.state.loading && __jsx(React.Fragment, null, __jsx(\"div\", {\n      className: \"d-flex flex-column\"\n    }, __jsx(StaticName, {\n      title: \"DISCOVER YOUR DATA ANYWHRER ANYTIME\",\n      style: {\n        fontSize: 10,\n        fontWeight: '600',\n        color: 'rgba(0,0,0,0.5)'\n      }\n    }), __jsx(StaticName, {\n      title: \"Login your account\",\n      style: {\n        fontSize: 18,\n        fontWeight: '600',\n        color: 'rgba(0,0,0,1)',\n        marginTop: 8,\n        marginBottom: 10\n      }\n    })), __jsx(Input, {\n      divStyle: {\n        width: '100%',\n        marginRight: 30\n      },\n      title: \"E-Mail\",\n      placeholder: \"Your E-Mail\",\n      value: email,\n      element: 'email',\n      _HandleProduct: this._HandleChange,\n      textStyle: {\n        fontSize: 12\n      }\n    }), __jsx(Input, {\n      divStyle: {\n        width: '100%',\n        marginRight: 30\n      },\n      title: 'Password',\n      placeholder: \"Your Password\",\n      value: password,\n      element: 'password',\n      textStyle: {\n        fontSize: 12\n      },\n      _HandleProduct: this._HandleChange\n    }), __jsx(\"div\", {\n      className: \"d-flex justify-content-between\",\n      style: {\n        marginTop: 15\n      }\n    }, __jsx(Button, {\n      _Function: this.props.handleStage,\n      title: 'Register',\n      style: {\n        border: '1px solid rgba(38,162,192,1)',\n        color: 'rgba(38,162,192,1)',\n        backgroundColor: \"white\"\n      }\n    }), __jsx(Button, {\n      _Function: this._handleLogin,\n      title: 'Login',\n      style: {\n        color: 'white',\n        border: '1px solid rgba(38,162,192,1)',\n        backgroundColor: 'rgba(38,162,192,1)',\n        boxShadow: '0 5px 9px 0 rgba(38,162,192,0.35), 0 8px 25px 0 rgba(38,162,192,0.35)'\n      }\n    })), this.state.error && __jsx(\"div\", {\n      className: \"d-flex flex-column\",\n      style: {\n        marginTop: 15\n      }\n    }, __jsx(\"span\", {\n      style: {\n        fontSize: 12\n      }\n    }, this.state.error))), this.state.loading && __jsx(React.Fragment, null, \"Loading ...\"));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {};\n};\n\nexport default connect(mapStateToProps, {\n  saveAccessTokenSuccess\n})(Login);","map":{"version":3,"sources":["/usr/src/app/components/login/components/Login.js"],"names":["React","Component","Router","Api","Input","Button","StaticName","connect","saveAccessTokenSuccess","Login","constructor","props","e","element","form","state","setState","error","loading","result","post","data","token","response","message","email","password","render","flex","fontSize","fontWeight","color","marginTop","marginBottom","width","marginRight","_HandleChange","handleStage","border","backgroundColor","_handleLogin","boxShadow","mapStateToProps"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\nimport Router from 'next/router'\n\nimport Api from '../../../api/axios'\n\nimport Input from '../../form/Input'\nimport Button from '../../form/Button'\nimport StaticName from '../../form/StaticName'\n\n\nimport { connect } from \"react-redux\"\nimport {saveAccessTokenSuccess } from \"../../../redux/ducks/user/UserActions\"\n\n\n\n\nclass Login extends Component  {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n\n            form: {\n                email: '',\n                password: '',\n            },\n            loading: false,\n            error: null,\n        }\n    }\n\n    _HandleChange = (e, element) => {\n        let form = {...this.state.form}\n        form[element] = e\n        this.setState({form: form, error: null})\n    }\n\n\n    _handleLogin = async() => {\n\n        this.setState({loading: true})\n\n        try {\n            const result = await Api.post(`/user/login`, this.state.form)\n            \n            // save into redux\n            await this.props.saveAccessTokenSuccess(result.data.token)\n\n        } catch (e){\n            this.setState({error: e.response.data.message, loading: false})\n        }\n    }\n\n    render() {\n\n\n        const {email, password} = this.state.form\n\n        return (\n            <div style={{flex: 1}}>\n                \n                {!this.state.loading && \n                    <>\n                        <div className=\"d-flex flex-column\">\n                            <StaticName title=\"DISCOVER YOUR DATA ANYWHRER ANYTIME\" style={{fontSize: 10, fontWeight: '600', color:'rgba(0,0,0,0.5)'}}/>\n                            <StaticName title=\"Login your account\" style={{fontSize: 18, fontWeight: '600', color:'rgba(0,0,0,1)', marginTop: 8, marginBottom:10}}/>\n                        </div>\n\n                        <Input\n                            divStyle={{width: '100%', marginRight: 30}}\n                            title='E-Mail'\n                            placeholder=\"Your E-Mail\"\n                            value={email}\n                            element={'email'}\n                            _HandleProduct={this._HandleChange}\n                            textStyle={{fontSize: 12}}\n                        /> \n\n                        <Input\n                            divStyle={{width: '100%', marginRight: 30}}\n                            title={'Password'}\n                            placeholder=\"Your Password\"\n                            value={password}\n                            element={'password'}\n                            textStyle={{fontSize: 12}}\n                            _HandleProduct={this._HandleChange}\n                        />  \n\n                        <div className=\"d-flex justify-content-between\" style={{marginTop: 15}}>\n\n                            <Button\n                                _Function={this.props.handleStage}\n                                title={'Register'}\n                                style={{border: '1px solid rgba(38,162,192,1)', color: 'rgba(38,162,192,1)', backgroundColor:\"white\"}}\n                            />\n\n                            <Button\n                                _Function={this._handleLogin}\n                                title={'Login'}\n                                style={{\n                                    color:'white',border:'1px solid rgba(38,162,192,1)', backgroundColor: 'rgba(38,162,192,1)',\n                                    boxShadow: '0 5px 9px 0 rgba(38,162,192,0.35), 0 8px 25px 0 rgba(38,162,192,0.35)'\n                                }}\n                            />\n                        </div>\n\n                        {this.state.error && \n                            <div className=\"d-flex flex-column\" style={{marginTop: 15}}>\n                                <span style={{fontSize: 12, }}>{this.state.error}</span>\n                            </div>\n                        }\n                    </>\n                }\n\n                {this.state.loading && \n                    <>Loading ...</>\n                }\n            </div>\n        )\n    };\n}\n\n\n  \nconst mapStateToProps = state => {\n    return {}\n}\n\nexport default connect(mapStateToProps,{saveAccessTokenSuccess})(Login)"]},"metadata":{},"sourceType":"module"}