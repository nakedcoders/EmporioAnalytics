{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs2/helpers/interopRequireDefault\");\n\nvar _promise = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/promise\"));\n\nvar _axios = _interopRequireDefault(require(\"axios\"));\n\nlet api = _axios.default.create({\n  baseURL: \"http://localhost:3001\",\n  timeout: 10000,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\napi.AuthorizationHeader = token => {\n  if (token) {\n    api.interceptors.request.use(async config => {\n      config.headers.Authorization = `Bearer ${token}`;\n      return config;\n    }, function (error) {\n      return _promise.default.reject(error);\n    });\n  }\n};\n\napi.clearToken = () => {\n  api.interceptors.request.use(async config => {\n    config.headers.Authorization = '';\n    return config;\n  }, function (error) {\n    return _promise.default.reject(error);\n  });\n};\n\nmodule.exports = api;","map":{"version":3,"sources":["/usr/src/app/api/axios.js"],"names":["api","axios","create","baseURL","timeout","headers","AuthorizationHeader","token","interceptors","request","use","config","Authorization","error","reject","clearToken","module","exports"],"mappings":";;;;;;AAAA;;AAGA,IAAIA,GAAG,GAAIC,eAAMC,MAAN,CAAa;AACtBC,EAAAA,OAAO,EAAE,uBADa;AAEtBC,EAAAA,OAAO,EAAE,KAFa;AAGpBC,EAAAA,OAAO,EAAE;AACP,oBAAgB;AADT;AAHW,CAAb,CAAX;;AAQAL,GAAG,CAACM,mBAAJ,GAA2BC,KAAD,IAAW;AACnC,MAAGA,KAAH,EAAS;AACPP,IAAAA,GAAG,CAACQ,YAAJ,CAAiBC,OAAjB,CAAyBC,GAAzB,CAA8B,MAAOC,MAAP,IAAkB;AAC5CA,MAAAA,MAAM,CAACN,OAAP,CAAeO,aAAf,GAAgC,UAASL,KAAM,EAA/C;AACA,aAAOI,MAAP;AACH,KAHD,EAGG,UAASE,KAAT,EAAgB;AACf,aAAO,iBAAQC,MAAR,CAAeD,KAAf,CAAP;AACH,KALD;AAMD;AACF,CATD;;AAWAb,GAAG,CAACe,UAAJ,GAAiB,MAAM;AACrBf,EAAAA,GAAG,CAACQ,YAAJ,CAAiBC,OAAjB,CAAyBC,GAAzB,CAA8B,MAAOC,MAAP,IAAkB;AAC5CA,IAAAA,MAAM,CAACN,OAAP,CAAeO,aAAf,GAA+B,EAA/B;AACA,WAAOD,MAAP;AACH,GAHD,EAGG,UAASE,KAAT,EAAgB;AACf,WAAO,iBAAQC,MAAR,CAAeD,KAAf,CAAP;AACH,GALD;AAOD,CARD;;AAYAG,MAAM,CAACC,OAAP,GAAiBjB,GAAjB","sourcesContent":["import axios from \"axios\";\n\n\nlet api =  axios.create({\n  baseURL: \"http://localhost:3001\",\n  timeout: 10000,\n    headers: {\n      'Content-Type': 'application/json',\n    },\n});\n\napi.AuthorizationHeader = (token) => {\n  if(token){\n    api.interceptors.request.use( async (config) => {\n        config.headers.Authorization = `Bearer ${token}`\n        return config\n    }, function(error) {\n        return Promise.reject(error);\n    });\n  }\n}\n\napi.clearToken = () => {\n  api.interceptors.request.use( async (config) => {\n      config.headers.Authorization = ''\n      return config\n  }, function(error) {\n      return Promise.reject(error);\n  });\n\n}\n\n\n  \nmodule.exports = api;\n  "]},"metadata":{},"sourceType":"script"}