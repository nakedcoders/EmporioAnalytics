{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\n\nvar _marked =\n/*#__PURE__*/\n_regeneratorRuntime.mark(userLogout),\n    _marked2 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(userProfile),\n    _marked3 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(userLogoutWatcher),\n    _marked4 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(retrieveUserProfileWatcher),\n    _marked5 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(productSaga);\n\nimport { all, call, fork, put, takeEvery, takeLatest, select, delay } from \"redux-saga/effects\";\nimport * as types from \"./UserTypes\";\nimport * as actions from \"./UserActions\";\nimport api from \"../../../api/axios\"; //=========================\n// REQUESTS\n//=========================\n\nvar userLogoutRequest = function userLogoutRequest(e) {\n  var data;\n  return _regeneratorRuntime.async(function userLogoutRequest$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return _regeneratorRuntime.awrap(api.post(\"/basecustomerusers/logout\"));\n\n        case 2:\n          data = _context.sent;\n          return _context.abrupt(\"return\", data);\n\n        case 4:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  });\n};\n\nvar userProfileRequest = function userProfileRequest(e) {\n  var result;\n  return _regeneratorRuntime.async(function userProfileRequest$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.next = 2;\n          return _regeneratorRuntime.awrap(api.get(\"/basecustomerusers/\".concat(e.payload, \"/customer\")));\n\n        case 2:\n          result = _context2.sent;\n          return _context2.abrupt(\"return\", result.data);\n\n        case 4:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  });\n}; //=========================\n// CALL(GENERATOR) ACTIONS\n//=========================\n\n\nfunction userLogout(e) {\n  var data;\n  return _regeneratorRuntime.wrap(function userLogout$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          _context3.next = 3;\n          return call(userLogoutRequest, e);\n\n        case 3:\n          data = _context3.sent;\n          _context3.next = 6;\n          return put(actions.handleAccountLogout_success(data));\n\n        case 6:\n          _context3.next = 12;\n          break;\n\n        case 8:\n          _context3.prev = 8;\n          _context3.t0 = _context3[\"catch\"](0);\n          _context3.next = 12;\n          return put(actions.handleAccountLogout_failure(_context3.t0));\n\n        case 12:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, _marked, null, [[0, 8]]);\n}\n\nfunction userProfile(e) {\n  var data;\n  return _regeneratorRuntime.wrap(function userProfile$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.prev = 0;\n          _context4.next = 3;\n          return call(userProfileRequest, e);\n\n        case 3:\n          data = _context4.sent;\n          _context4.next = 6;\n          return put(actions.retrieveUserProfileSuccess(data));\n\n        case 6:\n          _context4.next = 12;\n          break;\n\n        case 8:\n          _context4.prev = 8;\n          _context4.t0 = _context4[\"catch\"](0);\n          _context4.next = 12;\n          return put(actions.retrieveUserProfileFailure(_context4.t0));\n\n        case 12:\n        case \"end\":\n          return _context4.stop();\n      }\n    }\n  }, _marked2, null, [[0, 8]]);\n} //=======================\n// WATCHER FUNCTIONS\n//=======================\n\n\nexport function userLogoutWatcher() {\n  return _regeneratorRuntime.wrap(function userLogoutWatcher$(_context5) {\n    while (1) {\n      switch (_context5.prev = _context5.next) {\n        case 0:\n          _context5.next = 2;\n          return takeEvery(types.LOGOUT_ACCOUNT, userLogout);\n\n        case 2:\n        case \"end\":\n          return _context5.stop();\n      }\n    }\n  }, _marked3);\n}\nexport function retrieveUserProfileWatcher() {\n  return _regeneratorRuntime.wrap(function retrieveUserProfileWatcher$(_context6) {\n    while (1) {\n      switch (_context6.prev = _context6.next) {\n        case 0:\n          _context6.next = 2;\n          return takeEvery(types.RETRIEVE_USER_PROFILE, userProfile);\n\n        case 2:\n        case \"end\":\n          return _context6.stop();\n      }\n    }\n  }, _marked4);\n} //=======================\n// FORK SAGAS TO STORE\n//=======================\n\nexport default function productSaga() {\n  return _regeneratorRuntime.wrap(function productSaga$(_context7) {\n    while (1) {\n      switch (_context7.prev = _context7.next) {\n        case 0:\n          _context7.next = 2;\n          return all([fork(userLogoutWatcher), fork(retrieveUserProfileWatcher)]);\n\n        case 2:\n        case \"end\":\n          return _context7.stop();\n      }\n    }\n  }, _marked5);\n}","map":{"version":3,"sources":["/usr/src/app/redux/ducks/user/UserSaga.js"],"names":["userLogout","userProfile","userLogoutWatcher","retrieveUserProfileWatcher","productSaga","all","call","fork","put","takeEvery","takeLatest","select","delay","types","actions","api","userLogoutRequest","e","post","data","userProfileRequest","get","payload","result","handleAccountLogout_success","handleAccountLogout_failure","retrieveUserProfileSuccess","retrieveUserProfileFailure","LOGOUT_ACCOUNT","RETRIEVE_USER_PROFILE"],"mappings":";;;;yBAiCUA,U;;;yBASAC,W;;;yBAYOC,iB;;;yBAKAC,0B;;;yBASQC,W;;AApEzB,SACEC,GADF,EAEEC,IAFF,EAGEC,IAHF,EAIEC,GAJF,EAKEC,SALF,EAMEC,UANF,EAOEC,MAPF,EAQEC,KARF,QASO,oBATP;AAWA,OAAO,KAAKC,KAAZ,MAAuB,aAAvB;AACA,OAAO,KAAKC,OAAZ,MAAyB,eAAzB;AACA,OAAOC,GAAP,MAAgB,oBAAhB,C,CAEA;AACA;AACA;;AAEA,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAAMC,CAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CACLF,GAAG,CAACG,IAAJ,6BADK;;AAAA;AAClBC,UAAAA,IADkB;AAAA,2CAEjBA,IAFiB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAA1B;;AAKA,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,CAAMH,CAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CACJF,GAAG,CAACM,GAAJ,8BAA8BJ,CAAC,CAACK,OAAhC,eADI;;AAAA;AACnBC,UAAAA,MADmB;AAAA,4CAElBA,MAAM,CAACJ,IAFW;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAA3B,C,CAMA;AACA;AACA;;;AACA,SAAUnB,UAAV,CAAqBiB,CAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEiB,iBAAMX,IAAI,CAACU,iBAAD,EAAoBC,CAApB,CAAV;;AAFjB;AAEUE,UAAAA,IAFV;AAAA;AAGI,iBAAMX,GAAG,CAACM,OAAO,CAACU,2BAAR,CAAoCL,IAApC,CAAD,CAAT;;AAHJ;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAKI,iBAAMX,GAAG,CAACM,OAAO,CAACW,2BAAR,cAAD,CAAT;;AALJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AASA,SAAUxB,WAAV,CAAsBgB,CAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEiB,iBAAMX,IAAI,CAACc,kBAAD,EAAqBH,CAArB,CAAV;;AAFjB;AAEUE,UAAAA,IAFV;AAAA;AAGI,iBAAMX,GAAG,CAACM,OAAO,CAACY,0BAAR,CAAmCP,IAAnC,CAAD,CAAT;;AAHJ;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAKI,iBAAMX,GAAG,CAACM,OAAO,CAACa,0BAAR,cAAD,CAAT;;AALJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,C,CASA;AACA;AACA;;;AACA,OAAO,SAAUzB,iBAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AACL,iBAAMO,SAAS,CAACI,KAAK,CAACe,cAAP,EAAuB5B,UAAvB,CAAf;;AADK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKP,OAAO,SAAUG,0BAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AACL,iBAAMM,SAAS,CAACI,KAAK,CAACgB,qBAAP,EAA8B5B,WAA9B,CAAf;;AADK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,C,CAMP;AACA;AACA;;AACA,eAAe,SAAUG,WAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AACb,iBAAMC,GAAG,CAAC,CACRE,IAAI,CAACL,iBAAD,CADI,EAERK,IAAI,CAACJ,0BAAD,CAFI,CAAD,CAAT;;AADa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA","sourcesContent":["import { \n  all, \n  call, \n  fork, \n  put, \n  takeEvery, \n  takeLatest, \n  select, \n  delay \n} from \"redux-saga/effects\"\n\nimport * as types from \"./UserTypes\"\nimport * as actions from \"./UserActions\"\nimport api from \"../../../api/axios\"\n\n//=========================\n// REQUESTS\n//=========================\n\nconst userLogoutRequest = async(e) => {\n  const data = await api.post(`/basecustomerusers/logout`)\n  return data\n}\n\nconst userProfileRequest = async(e) => {\n  const result = await api.get(`/basecustomerusers/${e.payload}/customer`)\n  return result.data\n}\n\n\n//=========================\n// CALL(GENERATOR) ACTIONS\n//=========================\nfunction* userLogout(e) {\n  try {\n    const data = yield call(userLogoutRequest, e)\n    yield put(actions.handleAccountLogout_success(data))\n  } catch (error) {\n    yield put(actions.handleAccountLogout_failure(error))\n  }\n}\n\nfunction* userProfile(e) {\n  try {\n    const data = yield call(userProfileRequest, e)\n    yield put(actions.retrieveUserProfileSuccess(data))\n  } catch (error) {\n    yield put(actions.retrieveUserProfileFailure(error))\n  }\n}\n\n//=======================\n// WATCHER FUNCTIONS\n//=======================\nexport function* userLogoutWatcher() {\n  yield takeEvery(types.LOGOUT_ACCOUNT, userLogout)\n}\n\n\nexport function* retrieveUserProfileWatcher() {\n  yield takeEvery(types.RETRIEVE_USER_PROFILE, userProfile)\n}\n\n\n\n//=======================\n// FORK SAGAS TO STORE\n//=======================\nexport default function* productSaga() {\n  yield all([\n    fork(userLogoutWatcher),\n    fork(retrieveUserProfileWatcher),\n\n  ])\n}\n"]},"metadata":{},"sourceType":"module"}